<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calciter</title>
    <!-- Links bootstrap y CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/styles.css">
</head>

<body style="width: 50%; margin: 0 auto;">

    <!-- Menú superior -->
    <nav class="navbar navbar-expand-lg bg-dark navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="/">Calciter</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup"
                aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                <div class="navbar-nav ms-auto">
                    <a class="nav-link logged-out" href="#" data-bs-toggle="modal" data-bs-target="#signinModal">Iniciar
                        sesión</a>
                    <a class="nav-link logged-out" href="#" data-bs-toggle="modal"
                        data-bs-target="#signupModal">Registrarse</a>
                    <a class="nav-link logged-in" href="#" id="logout">Cerrar sesión</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container p-4" style="width: 100%;">
        <!-- Menu viajes -->
        <div class="botonera-padre" id="botoneraPadre">
            <div class="botonera-hijo bg-dark" style="left: 50%; width: 105.5%; top: -40%;">
                <button id="allIter" style="margin-right: 27%" class="menuBotones"><i
                        class="fa-solid fa-arrow-left"></i></button>
                <button id="gastos" style="margin-right: 15%" class="menuBotones">Gastos</button>
                <button id="datos" class="menuBotones" style="margin-right: 25%">Datos del viaje</button>
            </div>
            <br>
        </div>

        <div class="row" id="iter-info">
            <!-- Viajes del usuario actual -->
        </div>
    </div>

    <!-- Modales -->
    <!-- REGISTRAR -->
    <div class="modal fade" id="signupModal" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h3 style="color: white;">Registrarse</h3>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body p-5">
                    <form id="register-form">
                        <div class="bg-box p-5 borde text-white" style="width: 100%;">
                            <!-- NAME & SURNAME -->
                            <div class="columna">
                                <input style="margin-right: 3px; width: 45%;" class="form-input-column" type="text"
                                    placeholder="Nombre" id="name" name="name">
                                <input class="form-input-column" type="text" placeholder="Apellido" id="surname"
                                    name="surname" style="width: 45%;">
                            </div>
                            <br>
                            <!-- TELÉFONO -->
                            <div class="input-group" id="input-telefono">
                                <div class="input-group-text">
                                    <img src="../img/user.png" alt="telefono" class="img-text" />
                                </div>
                                <div class="form_group">
                                    <input class="form-input" type="text" placeholder="Número de teléfono" id="telefono"
                                        name="telefono" style="width: 100%;">
                                </div>
                                <i style="right: 30px" class="validacion-estado fas fa-times-circle"></i>
                                <br>
                            </div>
                            <!-- EMAIL -->
                            <div class="input-group mt-4" id="input-email">
                                <div class="input-group-text">
                                    <img src="../img/email.png" alt="email" class="img-text" />
                                </div>
                                <div class="form_group">
                                    <input class="form-input" type="email" placeholder="ejemplo@ejemplo.es" id="email"
                                        name="email" style="width: 100%;">
                                </div>
                                <i style="right: 30px" class="validacion-estado fas fa-times-circle"></i>
                            </div>
                            <p class="error-validado mt-1" id="error-email">Escribe un correo elecrónico válido</p>
                            <br>
                            <!-- PASSWORD -->
                            <div class="input-group" id="input-passwd">
                                <div class="input-group-text">
                                    <img style="width: 15px;" src="../img/lock.png" alt="password" class="img-text" />
                                </div>
                                <div class="form_group">
                                    <input class="form-input" type="password" placeholder="Contraseña" id="passwd"
                                        name="passwd" style="width: 100%;">
                                </div>
                                <i style="right: 30px" class="validacion-estado fas fa-times-circle"></i>
                            </div>
                            <br>
                            <!-- PASSSWORD CONFIRM -->
                            <div class="input-group" id="input-passwd2">
                                <div class="input-group-text">
                                    <img src="../img/lock.png" alt="password" class="img-text" />
                                </div>
                                <div class="form_group">
                                    <input class="form-input" type="password" placeholder="Confirma tu contraseña"
                                        id="confpasswd" name="confpasswd" style="width: 100%;">
                                </div>
                                <i style="right: 30px" class="validacion-estado fas fa-times-circle"></i>
                            </div>
                            <div id="passwd-info">
                                <p class="mt-2 fw-light" style="font-size: 13px; color: white;">Usa por lo menos 8
                                    caracteres combinando mayúsculas y números</p>
                                <p id="error-coincide" style="color: red; font-weight: bold;" class="error-validado">Las
                                    contraseñas no coinciden</p>
                            </div>

                            <!-- ERROR: Campos vacíos -->
                            <div class="formulario-error" id="formulario-error">
                                <p><i class="fas fa-exclamation-triangle"></i> Error: rellena todos los campos por favor
                                </p>
                            </div>

                            <!-- ERROR: Usuario existente -->
                            <div class="formulario-error" id="usuario-existe">
                                <p><i class="fas fa-exclamation-triangle"></i> Error: El usuario ya existe
                                </p>
                            </div>

                            <!-- Usuario creado correctamente -->
                            <div class="form-enviado" id="form-enviado">
                                <p><i class="fa-solid fa-check"></i> Usuario creado correctamente</p>
                            </div>

                            <div>
                                <button id="btnRegister" type="button" class="btn bg-dark mt-4"
                                    style="width: 97%; color: white;">Registrar</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- LOGIN -->
    <div class="modal fade" id="signinModal" tabindex="-1" role="dialog" aria-labelledby="ModalSignin"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h3 style="color: white;">Iniciar sesión</h3>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="login-form">
                        <div class="bg-box p-5 borde text-white">
                            <!-- INPUT EMAIL -->
                            <div class="input-group" id="input-login-email">
                                <div class="input-group-text">
                                    <img src="../img/email.png" alt="email" class="img-text" />
                                </div>
                                <div class="form_group">
                                    <input class="form-input" type="email" placeholder="ejemplo@ejemplo.com"
                                        id="login-email" name="email" style="width: 136%;" required>
                                </div>
                                <i style="right: 30px" class="validacion-estado fas fa-times-circle"></i>
                            </div>
                            <!-- INPUT CONTRASEÑA -->
                            <div class="input-group mt-3" id="input-login-passwd">
                                <div class="input-group-text">
                                    <img style="width: 15px;" src="../img/lock.png" alt="password" class="img-text" />
                                </div>
                                <div class="form_group">
                                    <input class="form-input" type="password" placeholder="Contraseña" id="login-passwd"
                                        name="passwd" style="width: 136%;" required>
                                </div>
                                <i style="right: 30px" class="validacion-estado fas fa-times-circle"></i>
                            </div>
                            <button type="submit" class="btn mt-3 bg-dark" style="width: 100%; color: white;">Iniciar
                                sesión</button>
                            <div class="mt-3">
                                <button type="button" class="btn btn-info" id="googleLogin"
                                    style="width: 32.5%;">Google</button>
                                <button type="button" class="btn btn-primary" id="facebookLogin"
                                    style="width: 33%;">Facebook</button>
                                <button type="button" class="btn btn-dark" id="githubLogin"
                                    style="width: 32%;">Github</button>
                            </div>

                            <!-- Mensaje error -->
                            <div class="formulario-error mt-2" style="width: 100%;" id="error-email">
                                <p><i class="fas fa-exclamation-triangle"></i> Error: El usuario no existe</p>
                            </div>

                            <div class="formulario-error mt-2" style="width: 100%;" id="error-passwd">
                                <p><i class="fas fa-exclamation-triangle"></i> Error: La contraseña es incorrecta</p>
                            </div>

                            <!-- Sesión iniciada correctamente -->
                            <div class="form-enviado mt-2" id="form-iniciado" style="width: 100%;">
                                <p><i class="fa-solid fa-check"></i> Sesión iniciada correctamente</p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- NUEVO VIAJE -->
    <div class="modal fade" id="newIterModal" tabindex="-1" role="dialog" aria-labelledby="ModalNewIter"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h3 style="color: white;">Nuevo viaje</h3>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="new-iter-form">
                        <div class="bg-box p-5 borde text-white">
                            <!-- Nombre del viaje -->
                            <div id="input-iter-name" style="margin-top: -10px">
                                <label for="iter-name">Nombre</label>
                                <input class="form-control" type="text" placeholder="Nombre" id="itername"
                                    name="itername" style="width: 100%;" required>
                            </div>
                            <!-- Descripción -->
                            <div class="mt-2" id="input-iter-description">
                                <label for="iter-description">Descripción</label>
                                <input class="form-control" type="text" placeholder="Descripción" id="iterdesc"
                                    name="iterdesc" style="width: 100%;" required>
                            </div>

                            <!-- Paises -->
                            <div id="select-paises" class="columna">
                                <label class="mt-2" for="paises">País de destino</label>
                                <label style="padding-left: 20%;" class="mt-2" for="ciudad">Ciudad/pueblo de
                                    destino</label>
                                <select class="date-form" name="paises" id="paises">
                                    <!-- Los paises se llenan con el js -->
                                </select>
                                <input type="text" class="date-form" id="ciudad" name="ciudad"
                                    placeholder="Ciudad/pueblo" required>
                            </div>

                            <!-- Fecha de inicio y fin -->
                            <div class="columna mt-2">
                                <label for="startdate">Fecha de inicio</label>
                                <label style="padding-left: 20%;" for="enddate">Fecha de final</label>
                                <br>
                                <div id="dates">
                                    <!-- Fechas en columna -->
                                </div>

                            </div>
                            <button id="newIter" type="submit" class="btn mt-3 bg-dark"
                                style="width: 100%; color: white;">Crear
                                viaje</button>

                            <!-- ERROR: Campos vacíos -->
                            <div class="formulario-error" id="iter-vacio">
                                <p><i class="fas fa-exclamation-triangle mt-2" style="width: 100%;"></i> Error: Rellena
                                    todos los campos
                                </p>
                            </div>

                            <!-- Viaje creado correctamente -->
                            <div class="form-enviado" id="iter-enviado">
                                <p><i class="fa-solid fa-check mt-2" style="width: 100%;"></i> Viaje creado
                                    correctamente</p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- ACCEDER A UN VIAJE -->
    <div class="modal fade" id="accessIterModal" tabindex="-1" role="dialog" aria-labelledby="ModalAccess"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h3 style="color: white;">Acceder mediante invitación</h3>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="access-iter-form">
                        <div class="bg-box p-5 borde text-white">
                            <!-- ID del viaje -->
                            <div id="accesIterId" style="margin-top: -10px">
                                <label for="iter-name">Código de invitación</label>
                                <input class="form-control" type="text" placeholder="Código de invitación" id="accessId"
                                    name="accessId" style="width: 100%;" required>
                            </div>

                            <p class="mt-2 fw-light">Tienes que recibir un código de invitación para poder unirte a un
                                viaje</p>

                            <button id="accessInvite" type="submit" class="btn mt-3 bg-dark"
                                style="width: 100%; color: white;">Acceder al viaje</button>

                            <!-- ERROR: ID no existente -->
                            <div class="formulario-error" id="invalidId">
                                <p><i class="fas fa-exclamation-triangle mt-2" style="width: 100%;"></i> Error: La
                                    invitación no es correcta</p>
                            </div>

                            <!-- ID correcto -->
                            <div class="form-enviado" id="validId">
                                <p><i class="fa-solid fa-check mt-2" style="width: 100%;"></i> Estás dentro del viaje
                                </p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Crear Gasto -->
    <div class="modal fade" id="newGastoModal" tabindex="-1" role="dialog" aria-labelledby="ModalAccess"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content bg-dark">
                <div class="modal-header">
                    <h3 style="color: white;">Nuevo gasto</h3>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="newGastoForm">
                        <div class="bg-box p-5 borde text-white">
                            <!-- Nombre del gasto -->
                            <div id="newGasto" style="margin-top: -10px">
                                <label for="iter-name">Nombre del gasto</label>
                                <input class="form-control" type="text" placeholder="Código de invitación" id="nameGasto"
                                    name="accessId" style="width: 100%;" required>
                            </div>

                            <!-- Tipo de gasto -->
                            <div id="newGasto" style="margin-top: -10px">
                                <label for="selectTipo">Nombre del gasto</label>
                                <select name="selectTipo" id="selectTipo">
                                    <option value="comida">Comida</option>
                                    <option value="alojamiento">Alojamiento</option>
                                    <option value="actividades">Actividades</option>
                                </select>
                                <input class="form-control" type="text" placeholder="Código de invitación" id="nameGasto"
                                    name="accessId" style="width: 100%;" required>
                            </div>

                            <button id="createGasto" type="submit" class="btn mt-3 bg-dark"
                                style="width: 100%; color: white;">Acceder al viaje</button>

                            <!-- ERROR: ID no existente -->
                            <div class="formulario-error" id="errorGasto">
                                <p><i class="fas fa-exclamation-triangle mt-2" style="width: 100%;"></i> Error: La
                                    invitación no es correcta</p>
                            </div>

                            <!-- ID correcto -->
                            <div class="form-enviado" id="gastoCreated">
                                <p><i class="fa-solid fa-check mt-2" style="width: 100%;"></i> Estás dentro del viaje
                                </p>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- SCRIPTS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Fontawesome -->
    <script src="https://kit.fontawesome.com/7962c0e335.js" crossorigin="anonymous"></script>
    <script src="../code/firebase2.js" type="module"></script>
    <script src="../code/register.js" type="module"></script>
    <script src="../code/logged.js" type="module"></script>
    <script src="../code/login.js" type="module"></script>
    <script src="../code/createIter.js" type="module"></script>
</body>

</html>